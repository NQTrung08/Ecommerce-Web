import{j as e,N as W}from"./index-c34e661e.js";import{P}from"./PageHeader-671d5d99.js";import{a as c,S as L,P as k}from"./antd-f8b54f9d.js";import{S as D}from"./Spring-024788c5.js";import{R as T}from"./RatingStars-7977bf42.js";import{L as V}from"./LabeledProgressBar-8bd3b6cf.js";import{C as p}from"./Counter-3ddfe355.js";import{n as U}from"./helpers-2384862b.js";import{G as I}from"./shop-fe369be9.js";import{s as w}from"./categorie-c21aaf5e.js";import{g as C}from"./review-6e8db96b.js";import"./mui-33c18219.js";import"./DocumentTitle-3f6fed6e.js";import"./config-6a5e32b1.js";const R=({seller:s,index:t})=>{const i=m=>{const o=s.profit.reduce((b,u)=>b+u.totalRevenue,0);return o?m/o*100:0};console.log("getPercentage",s);const n=["accent","red","green","yellow","header"];return e.jsxDEV(D,{className:"card flex flex-col gap-5 md:gap-[26px] xl:flex-row xl:justify-between",index:t,children:[e.jsxDEV("div",{className:"grid grid-cols-1  lg:gap-[26px]",children:e.jsxDEV("div",{className:"flex flex-col flex-1 gap-5 md:flex-row md:gap-[26px]",children:[e.jsxDEV("div",{className:"flex flex-col shrink-0 gap-5 md:w-[193px]",children:[e.jsxDEV("div",{className:"img-wrapper h-[156px] flex justify-center items-center",children:e.jsxDEV("img",{className:"max-w-[120px]",src:s.logo,alt:s.name},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:25,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:24,columnNumber:13},globalThis),e.jsxDEV(W,{className:"btn btn--primary",to:`/seller-profile/${s.id}`,children:"Hồ sơ"},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:27,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:23,columnNumber:11},globalThis),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"truncate max-w-[220px] xs:max-w-[260px] md:max-w-full xl:max-w-[218px]",children:s.name},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:32,columnNumber:13},globalThis),e.jsxDEV("div",{className:"flex flex-col items-start gap-2.5",children:[e.jsxDEV("p",{className:"max-w-[220px]",children:s.address},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:36,columnNumber:15},globalThis),e.jsxDEV("a",{className:"transition hover:text-accent",href:`tel:${s.phone}`,children:s.phone},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:37,columnNumber:15},globalThis),e.jsxDEV("a",{className:"transition hover:text-accent",href:`mailto:${s.email}`,children:s.email},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:40,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:35,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:31,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:22,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:21,columnNumber:7},globalThis),e.jsxDEV("div",{className:" flex flex-row gap-5",children:[s.profit.length!==0?e.jsxDEV("div",{className:"max-w-[400px] flex flex-col",children:[e.jsxDEV("div",{className:"min-w-[400px]",children:e.jsxDEV("h5",{className:"mb-2.5 xl:hidden 2xl:block",children:"Doanh thu ngành hàng:"},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:50,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:49,columnNumber:11},globalThis),e.jsxDEV("div",{className:"flex flex-col max-w-[400px]",children:[e.jsxDEV("h5",{className:"mb-2.5 hidden xl:block 2xl:hidden",children:"Doanh thu:"},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:55,columnNumber:13},globalThis),e.jsxDEV("div",{className:"flex flex-col gap-4",children:s.profit.slice(0,4).map((m,o)=>e.jsxDEV(V,{wrapperClass:"!gap-0",label:m.categoryName,value:i(m.totalRevenue|m.totalProducts),displayValue:U(m.totalRevenue|m.totalProducts,2),color:n[o]},m._id,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:57,columnNumber:67},globalThis))},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:56,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:54,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:48,columnNumber:40},globalThis):e.jsxDEV("div",{className:"w-[400px]"},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:60,columnNumber:18},globalThis),e.jsxDEV("div",{className:"flex flex-col gap-5",children:[e.jsxDEV("div",{className:"w-[200px]",children:[e.jsxDEV("h5",{className:"mb-2.5",children:"Thống kê:"},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:63,columnNumber:13},globalThis),e.jsxDEV("div",{className:"flex flex-col gap-4",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"badge-icon bg-green",children:e.jsxDEV("i",{className:"icon-barcode"},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:67,columnNumber:19},globalThis)},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:66,columnNumber:17},globalThis),e.jsxDEV("div",{className:"flex flex-col",children:[e.jsxDEV(p,{className:"h3",num:s==null?void 0:s.totalOrdersEcommerce},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:70,columnNumber:19},globalThis),e.jsxDEV("span",{className:"label-text",children:"Đơn hàng"},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:71,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:69,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:65,columnNumber:15},globalThis),e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"badge-icon bg-accent",children:e.jsxDEV("i",{className:"icon-diamond text-[23px] mt-1"},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:76,columnNumber:19},globalThis)},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:75,columnNumber:17},globalThis),e.jsxDEV("div",{className:"flex flex-col",children:[e.jsxDEV(p,{className:"h3",num:s.totalRevenueEcommerce,isFormatted:!0},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:79,columnNumber:19},globalThis),e.jsxDEV("span",{className:"label-text",children:"Doanh thu"},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:80,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:78,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:74,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:64,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:62,columnNumber:11},globalThis),e.jsxDEV("div",{children:[e.jsxDEV("h5",{className:"mb-2.5",children:"Đánh giá:"},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:86,columnNumber:13},globalThis),e.jsxDEV(T,{rating:s.rating},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:87,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:85,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:61,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:47,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/SellerListItem.jsx",lineNumber:20,columnNumber:10},globalThis)},_=()=>{const[s,t]=c.useState([]),[i,n]=c.useState(1),[m,o]=c.useState(8),[b,u]=c.useState(!0);c.useEffect(()=>{(async()=>{try{const l=await I();if(!l||!l.shops){console.error("No shops data received");return}const f=await Promise.all(l.shops.map(r=>w(r._id))),v=await Promise.all(l.shops.map(r=>C(r._id))),g=l.shops.map((r,N)=>{const h=v[N],S=h.length?h.reduce((E,j)=>E+j.rating,0)/h.length:0;return{id:r._id,logo:r.logo,name:r.shop_name,website:r.website||"",address:r.address,phone:r.phone_number,email:`${r.owner_id.userName.toLowerCase().replace(/\s+/g,"")}@gmail.com`,rating:Math.floor(S),profit:f[N]||[],sales:Math.floor(Math.random()*1e5),totalOrdersEcommerce:r.order_count,totalRevenueEcommerce:r.total_revenue}});u(!1),t(g)}catch(l){console.error("Error fetching sellers or statistics:",l)}})()},[]);const x=(a,l)=>{n(a),o(l)},d=s.slice((i-1)*m,i*m);return e.jsxDEV("div",{className:"seller-profiles-list",children:b?e.jsxDEV("div",{className:"flex justify-center items-center h-[400px]",children:e.jsxDEV(L,{size:"large"},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/widgets/SellerProfilesList.jsx",lineNumber:59,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/widgets/SellerProfilesList.jsx",lineNumber:58,columnNumber:18},globalThis):e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"flex flex-col flex-1 gap-5 mb-[30px] md:gap-[26px]",children:d.map((a,l)=>e.jsxDEV(R,{seller:a,index:l},a.id,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/widgets/SellerProfilesList.jsx",lineNumber:62,columnNumber:52},globalThis))},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/widgets/SellerProfilesList.jsx",lineNumber:61,columnNumber:11},globalThis),e.jsxDEV(k,{current:i,pageSize:m,total:s.length,onChange:x,showSizeChanger:!0,pageSizeOptions:[8,12,20],className:"flex justify-center mt-5"},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/widgets/SellerProfilesList.jsx",lineNumber:64,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/widgets/SellerProfilesList.jsx",lineNumber:60,columnNumber:18},globalThis)},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/widgets/SellerProfilesList.jsx",lineNumber:57,columnNumber:10},globalThis)},X=()=>e.jsxDEV(e.Fragment,{children:[e.jsxDEV(P,{title:"Danh sách cửa hàng"},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/pages/SellersList.jsx",lineNumber:7,columnNumber:9},globalThis),e.jsxDEV("div",{children:e.jsxDEV(_,{},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/pages/SellersList.jsx",lineNumber:9,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/pages/SellersList.jsx",lineNumber:8,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/pages/SellersList.jsx",lineNumber:5,columnNumber:10},globalThis);export{X as default};
