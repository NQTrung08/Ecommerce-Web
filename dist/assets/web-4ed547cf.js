import{j as b}from"./index-f10ef397.js";import{g as W,G as d,af as K,a as p}from"./antd-2f34d53b.js";import{P as h}from"./mui-8e3bcfed.js";var D=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Z(n,e){return!!(n===e||D(n)&&D(e))}function J(n,e){if(n.length!==e.length)return!1;for(var r=0;r<n.length;r++)if(!Z(n[r],e[r]))return!1;return!0}function w(n,e){e===void 0&&(e=J);var r,t=[],i,s=!1;function l(){for(var u=[],o=0;o<arguments.length;o++)u[o]=arguments[o];return s&&r===this&&e(u,t)||(i=n.apply(this,u),s=!0,r=this,t=u),i}return l}var Q=function(n,e,r){return r=window.getComputedStyle,(r?r(n):n.currentStyle)[e.replace(/-(\w)/gi,function(t,i){return i.toUpperCase()})]},ee=Q,E=ee;function te(n){var e=E(n,"line-height"),r=parseFloat(e,10);if(e===r+""){var t=n.style.lineHeight;n.style.lineHeight=e+"em",e=E(n,"line-height"),r=parseFloat(e,10),t?n.style.lineHeight=t:delete n.style.lineHeight}if(e.indexOf("pt")!==-1?(r*=4,r/=3):e.indexOf("mm")!==-1?(r*=96,r/=25.4):e.indexOf("cm")!==-1?(r*=96,r/=2.54):e.indexOf("in")!==-1?r*=96:e.indexOf("pc")!==-1&&(r*=16),r=Math.round(r),e==="normal"){var i=n.nodeName,s=document.createElement(i);s.innerHTML="&nbsp;",i.toUpperCase()==="TEXTAREA"&&s.setAttribute("rows","1");var l=E(n,"font-size");s.style.fontSize=l,s.style.padding="0px",s.style.border="0px";var u=document.body;u.appendChild(s);var o=s.offsetHeight;r=o,u.removeChild(s)}return r}var re=te;const C=W(re);var O={characters:{tokenizeString:null,isAtomic:function(e){return e.length<=1}},words:{tokenizeString:function(e){return e.match(/(\s*\S[\S\xA0]*)/g)},isAtomic:function(e){return/^\s*[\S\xA0]*\s*$/.test(e)}}},N=function(e){return e.children||null};N.__rtm_atom=!0;var A=function(e){return!!(e&&e.type&&e.type.__rtm_atom===!0)},ne="<Atom>",ie=function(){function n(e,r){for(var t=0;t<r.length;t++){var i=r[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,t){return r&&n(e.prototype,r),t&&n(e,t),e}}(),x,F,H=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},g=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}return n};function se(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function oe(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function le(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var m={LEFT:!0,RIGHT:!1},M=function n(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e){if(typeof e=="string")return r+e;if(A(e))return r+ne}else return r;var t=Array.isArray(e)?e:e.props.children||"";return r+d.Children.map(t,function(i){return n(i)}).join("")},ue=function(e,r,t,i){var s=function(){return t?{display:(e.props.style||{}).display||"block"}:i===2?{display:(e.props.style||{}).display||"inline-block"}:{}};return g({},e,{props:g({},e.props,{style:g({},e.props.style,s()),children:r})})},ae=function n(e){return e==null||["string","number"].includes(typeof e>"u"?"undefined":H(e))||A(e)?!0:typeof e.type=="function"?(console.error("ReactTruncateMarkup tried to render <"+e.type.name+" />, but truncating React components is not supported, the full content is rendered instead. Only DOM elements are supported. Alternatively, you can take advantage of the <TruncateMarkup.Atom /> component (see more in the docs https://github.com/patrik-piskay/react-truncate-markup/blob/master/README.md#truncatemarkupatom-)."),!1):e.props&&e.props.children?d.Children.toArray(e.props.children).reduce(function(r,t){return r&&n(t)},!0):!0},j=(F=x=function(n){le(e,n);function e(r){se(this,e);var t=oe(this,n.call(this,r));return t.lineHeight=null,t.splitDirectionSeq=[],t.shouldTruncate=!0,t.wasLastCharTested=!1,t.endFound=!1,t.latestThatFits=null,t.onTruncateCalled=!1,t.toStringMemo=w(M),t.childrenWithRefMemo=w(t.childrenElementWithRef),t.validateTreeMemo=w(ae),t.onTruncate=function(i){t.onTruncateCalled||(t.onTruncateCalled=!0,t.props.onTruncate(i))},t.handleResize=function(i,s){if(s&&s.disconnect(),!i)return null;var l=!0,u=function(){l?l=!1:(t.shouldTruncate=!1,t.latestThatFits=null,t.setState({text:t.origText},function(){t.shouldTruncate=!0,t.onTruncateCalled=!1,t.truncate()}))},o=s||new K(u);return o.observe(i),o},t.setRef=function(i){var s=t.el!==i;t.el=i,s&&(t.resizeObserver=t.handleResize(i,t.resizeObserver))},t.state={text:t.childrenWithRefMemo(t.props.children)},t}return e.prototype.componentDidMount=function(){this.isValid&&(this.lineHeight=this.props.lineHeight||C(this.el),this.truncate())},e.prototype.UNSAFE_componentWillReceiveProps=function(t){var i=this;this.shouldTruncate=!1,this.latestThatFits=null,this.setState({text:this.childrenWithRefMemo(t.children)},function(){i.isValid&&(i.lineHeight=t.lineHeight||C(i.el),i.shouldTruncate=!0,i.truncate())})},e.prototype.componentDidUpdate=function(){if(!(this.shouldTruncate===!1||this.isValid===!1)){if(this.endFound){if(this.latestThatFits!==null&&this.state.text!==this.latestThatFits){this.setState({text:this.latestThatFits});return}this.onTruncate(!0);return}this.splitDirectionSeq.length&&(this.fits()?(this.latestThatFits=this.state.text,this.splitDirectionSeq.splice(this.splitDirectionSeq.length-1,1,m.RIGHT,m.LEFT)):this.splitDirectionSeq.push(m.LEFT),this.tryToFit(this.origText,this.splitDirectionSeq))}},e.prototype.componentWillUnmount=function(){this.lineHeight=null,this.latestThatFits=null,this.splitDirectionSeq=[]},e.prototype.truncate=function(){if(this.fits()){this.shouldTruncate=!1,this.onTruncate(!1);return}this.truncateOriginalText()},e.prototype.childrenElementWithRef=function(t){var i=d.Children.only(t);return d.cloneElement(i,{ref:this.setRef,style:g({wordWrap:"break-word"},i.props.style)})},e.prototype.truncateOriginalText=function(){this.endFound=!1,this.splitDirectionSeq=[m.LEFT],this.wasLastCharTested=!1,this.tryToFit(this.origText,this.splitDirectionSeq)},e.prototype.tryToFit=function(t,i){if(t.props.children){var s=this.split(t,i,!0),l=typeof this.props.ellipsis=="function"?this.props.ellipsis(s):this.props.ellipsis;l=(typeof l>"u"?"undefined":H(l))==="object"?d.cloneElement(l,{key:"ellipsis"}):l;var u=s.props.children,o=[].concat(u,l),a=M(u)!==this.toStringMemo(this.props.children);this.setState({text:g({},s,{props:g({},s.props,{children:a?o:u})})})}},e.prototype.split=function(t,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!t||A(t))return this.endFound=!0,t;if(typeof t=="string")return this.splitString(t,i,l);if(Array.isArray(t))return this.splitArray(t,i,l);var u=this.split(t.props.children,i,!1,l+1);return ue(t,u,s,l)},e.prototype.splitString=function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments[2];if(!i.length)return t;if(i.length&&this.policy.isAtomic(t))return this.wasLastCharTested?this.endFound=!0:this.wasLastCharTested=!0,t;if(this.policy.tokenizeString){var l=this.splitArray(this.policy.tokenizeString(t),i,s);return l.join("")}var u=i[0],o=i.slice(1),a=Math.ceil(t.length/2),f=t.substring(0,a);if(u===m.LEFT)return this.splitString(f,o,s);var v=t.substring(a);return f+this.splitString(v,o,s)},e.prototype.splitArray=function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments[2];if(!i.length)return t;if(t.length===1)return[this.split(t[0],i,!1,s)];var l=i[0],u=i.slice(1),o=Math.ceil(t.length/2),a=t.slice(0,o);if(l===m.LEFT)return this.splitArray(a,u,s);var f=t.slice(o);return a.concat(this.splitArray(f,u,s))},e.prototype.fits=function(){var t=this.props.lines,i=this.el.getBoundingClientRect(),s=i.height,l=Math.round(s/parseFloat(this.lineHeight));return t>=l},e.prototype.render=function(){return this.state.text},ie(e,[{key:"isValid",get:function(){return this.validateTreeMemo(this.props.children)}},{key:"origText",get:function(){return this.childrenWithRefMemo(this.props.children)}},{key:"policy",get:function(){return O[this.props.tokenize]||O.characters}}]),e}(d.Component),x.Atom=N,x.defaultProps={lines:1,ellipsis:"...",lineHeight:"",onTruncate:function(){},tokenize:"characters"},F);j.propTypes={children:h.element.isRequired,lines:h.number,ellipsis:h.oneOfType([h.element,h.string,h.func]),lineHeight:h.oneOfType([h.string,h.number]),onTruncate:h.func,onAfterTruncate:function(e,r,t){if(e[r])return new Error(t+": Setting `onAfterTruncate` prop is deprecated, use `onTruncate` instead.")},tokenize:function(e,r,t){var i=e[r];if(typeof i<"u"&&!O[i])return new Error(t+": Unknown option for prop 'tokenize': '"+i+"'. Option 'characters' will be used instead.")}};const ce=({text:n,lines:e=2,className:r,width:t})=>{const[i,s]=p.useState(!1),[l,u]=p.useState(!1);return p.useEffect(()=>(u(!0),()=>u(!1)),[]),b.jsxDEV("span",{className:r||"",style:{width:t},children:l&&b.jsxDEV(j,{lines:e,ellipsis:b.jsxDEV("span",{children:"..."},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/TruncatedText.jsx",lineNumber:24,columnNumber:65},globalThis),onTruncate:o=>s(o),children:b.jsxDEV("div",{children:n},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/TruncatedText.jsx",lineNumber:25,columnNumber:25},globalThis)},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/TruncatedText.jsx",lineNumber:24,columnNumber:25},globalThis)},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/TruncatedText.jsx",lineNumber:21,columnNumber:10},globalThis)};ce.propTypes={text:h.string.isRequired,lines:h.number,className:h.string,width:h.number.isRequired};function z(n,e,r){var t,i,s,l,u;e==null&&(e=100);function o(){var f=Date.now()-l;f<e&&f>=0?t=setTimeout(o,e-f):(t=null,r||(u=n.apply(s,i),s=i=null))}var a=function(){s=this,i=arguments,l=Date.now();var f=r&&!t;return t||(t=setTimeout(o,e)),f&&(u=n.apply(s,i),s=i=null),u};return a.clear=function(){t&&(clearTimeout(t),t=null)},a.flush=function(){t&&(u=n.apply(s,i),s=i=null,clearTimeout(t),t=null)},a}z.debounce=z;var fe=z;const L=W(fe);function be(n){let{debounce:e,scroll:r,polyfill:t,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[l,u]=p.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=p.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:l}),a=e?typeof e=="number"?e:e.scroll:null,f=e?typeof e=="number"?e:e.resize:null,v=p.useRef(!1);p.useEffect(()=>(v.current=!0,()=>void(v.current=!1)));const[q,R,y]=p.useMemo(()=>{const c=()=>{if(!o.current.element)return;const{left:U,top:V,width:B,height:I,bottom:G,right:X,x:Y,y:$}=o.current.element.getBoundingClientRect(),T={left:U,top:V,width:B,height:I,bottom:G,right:X,x:Y,y:$};o.current.element instanceof HTMLElement&&i&&(T.height=o.current.element.offsetHeight,T.width=o.current.element.offsetWidth),Object.freeze(T),v.current&&!de(o.current.lastBounds,T)&&u(o.current.lastBounds=T)};return[c,f?L(c,f):c,a?L(c,a):c]},[u,i,a,f]);function S(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(c=>c.removeEventListener("scroll",y,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null)}function k(){o.current.element&&(o.current.resizeObserver=new s(y),o.current.resizeObserver.observe(o.current.element),r&&o.current.scrollContainers&&o.current.scrollContainers.forEach(c=>c.addEventListener("scroll",y,{capture:!0,passive:!0})))}const P=c=>{!c||c===o.current.element||(S(),o.current.element=c,o.current.scrollContainers=_(c),k())};return pe(y,!!r),he(R),p.useEffect(()=>{S(),k()},[r,y,R]),p.useEffect(()=>S,[]),[P,l,q]}function he(n){p.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function pe(n,e){p.useEffect(()=>{if(e){const r=n;return window.addEventListener("scroll",r,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",r,!0)}},[n,e])}function _(n){const e=[];if(!n||n===document.body)return e;const{overflow:r,overflowX:t,overflowY:i}=window.getComputedStyle(n);return[r,t,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,..._(n.parentElement)]}const me=["x","y","top","bottom","left","right","width","height"],de=(n,e)=>me.every(r=>n[r]===e[r]);export{ce as T,be as u};
