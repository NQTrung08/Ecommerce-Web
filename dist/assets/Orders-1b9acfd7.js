import{j as e,k as V,i as y,P as w,O as C,L as _}from"./index-3f5be7ce.js";import{P as I}from"./PageHeader-3ba00e43.js";import{S as A}from"./Spring-4c5e2a79.js";import{C as R}from"./Counter-7b543b8d.js";import{S as L}from"./SubmenuTrigger-f6f3534e.js";import{P as x}from"./mui-1d26c97c.js";import{a as r,N as f,P as $}from"./antd-b3df3d09.js";/* empty css                      */import{U as H,a as Y}from"./config-fc0c890a.js";import"./DocumentTitle-097638f7.js";import"./helpers-d8e559b7.js";const h=({icon:l,color:a="accent",title:c="Lorem ipsum",count:i=0})=>e.jsxDEV(A,{className:"card !pb-5",children:[e.jsxDEV("div",{className:"flex justify-between items-start",children:[e.jsxDEV("div",{className:"badge-icon badge-icon--sm",style:{backgroundColor:`var(--${a})`},children:l},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/OrdersInfobox.jsx",lineNumber:16,columnNumber:17},globalThis),e.jsxDEV(L,{},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/OrdersInfobox.jsx",lineNumber:21,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/OrdersInfobox.jsx",lineNumber:15,columnNumber:13},globalThis),e.jsxDEV("h6",{className:"mt-[28px] mb-2.5",children:[e.jsxDEV("span",{className:"xl:hidden 2xl:inline",children:"Orders "},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/OrdersInfobox.jsx",lineNumber:24,columnNumber:17},globalThis),c]},void 0,!0,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/OrdersInfobox.jsx",lineNumber:23,columnNumber:13},globalThis),e.jsxDEV(R,{className:"h3",num:i},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/OrdersInfobox.jsx",lineNumber:27,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/components/OrdersInfobox.jsx",lineNumber:14,columnNumber:10},globalThis);h.propTypes={icon:x.node,color:x.oneOf(["accent","green","red","badge-status-bg"]),title:x.string,count:x.number};const B=({initialOrders:l})=>{const[a,c]=r.useState(l),[i,T]=r.useState(""),[g,v]=r.useState(""),[t,E]=r.useState(1),[m]=r.useState(10),d=a.filter(s=>{const p=f(s.createdAt),j=i?p.isAfter(f(i).subtract(1,"day")):!0,S=g?p.isBefore(f(g).add(1,"day")):!0;return j&&S}),N=d.slice((t-1)*m,t*m),b=s=>{E(s)};return e.jsxDEV("div",{className:"space-y-6 p-4 bg-gray-50 rounded-lg",children:[N.length===0?e.jsxDEV("p",{className:"text-gray-600 text-center",children:"Không có đơn hàng nào để hiển thị."},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/widgets/OrdersTableShop/index.jsx",lineNumber:59,columnNumber:39},globalThis):N.map(s=>e.jsxDEV("div",{className:"border-b py-4 px-6 bg-white rounded-lg shadow-md",children:e.jsxDEV("div",{className:"flex justify-between items-start",children:e.jsxDEV("div",{className:"w-full",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800",children:["Mã đơn hàng:"," ",e.jsxDEV("span",{className:"text-blue-600",children:s.order_trackingNumber},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/widgets/OrdersTableShop/index.jsx",lineNumber:66,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/widgets/OrdersTableShop/index.jsx",lineNumber:64,columnNumber:17},globalThis),e.jsxDEV("p",{className:"text-sm text-gray-600",children:["Ngày tạo: ",f(s.createdAt).format("DD/MM/YYYY")]},void 0,!0,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/widgets/OrdersTableShop/index.jsx",lineNumber:70,columnNumber:17},globalThis),e.jsxDEV("p",{className:"text-sm text-gray-600",children:["Trạng thái:"," ",e.jsxDEV("span",{className:"font-medium",children:s.order_status},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/widgets/OrdersTableShop/index.jsx",lineNumber:75,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/widgets/OrdersTableShop/index.jsx",lineNumber:73,columnNumber:17},globalThis),e.jsxDEV("p",{className:"text-sm text-gray-600",children:["Địa chỉ giao hàng: ",s.order_shipping_address]},void 0,!0,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/widgets/OrdersTableShop/index.jsx",lineNumber:77,columnNumber:17},globalThis),e.jsxDEV("p",{className:"text-sm text-gray-600",children:["Phương thức thanh toán:"," ",e.jsxDEV("span",{className:"font-medium",children:s.order_payment_method.toUpperCase()},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/widgets/OrdersTableShop/index.jsx",lineNumber:82,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/widgets/OrdersTableShop/index.jsx",lineNumber:80,columnNumber:17},globalThis),e.jsxDEV("p",{className:"text-sm font-semibold text-gray-800",children:["Tổng tiền:"," ",e.jsxDEV("span",{className:"text-red-600",children:[s.order_total_price.toLocaleString(),"₫"]},void 0,!0,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/widgets/OrdersTableShop/index.jsx",lineNumber:88,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/widgets/OrdersTableShop/index.jsx",lineNumber:86,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/widgets/OrdersTableShop/index.jsx",lineNumber:63,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/widgets/OrdersTableShop/index.jsx",lineNumber:62,columnNumber:13},globalThis)},s._id,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/widgets/OrdersTableShop/index.jsx",lineNumber:61,columnNumber:45},globalThis)),e.jsxDEV($,{current:t,total:d.length,pageSize:m,onChange:b,showSizeChanger:!1,className:"mt-4"},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/widgets/OrdersTableShop/index.jsx",lineNumber:96,columnNumber:7},globalThis),e.jsxDEV(V,{},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/widgets/OrdersTableShop/index.jsx",lineNumber:98,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/widgets/OrdersTableShop/index.jsx",lineNumber:24,columnNumber:10},globalThis)},O=async l=>{try{const a=y("application/json"),c=`${H}order${l?`?status=${l}`:""}`;return(await Y.get(c,a)).data}catch(a){throw console.error("Failed to fetch orders:",a),a}},re=()=>{const[l,a]=r.useState(w[0]),[c,i]=r.useState(C[0]),[T,g]=r.useState([]),[v,t]=r.useState([]),[E,m]=r.useState(!0),[d,N]=r.useState(null),[b,s]=r.useState("pending"),[p,j]=r.useState([]),S=[{value:"",name:"Tất cả đơn hàng"},{value:"pending",name:"Chờ xử lý"},{value:"confirmed",name:"Đã xác nhận"},{value:"shipped",name:"Đang vận chuyển"},{value:"completed",name:"Hoàn thành"},{value:"canceled",name:"Đã hủy"},{value:"waiting",name:"Chờ thanh toán"}];r.useEffect(()=>{(async()=>{m(!0);try{const n=await O(b),W=await O();g(n),t(W)}catch(n){console.error("Error fetching orders:",n),N("Không thể tải đơn hàng. Vui lòng thử lại.")}finally{m(!1)}})()},[b]);const P=o=>{j(n=>[...n,o])},D=T.filter(o=>!p.includes(o.id)),u=o=>v.filter(W=>W.order_status===o).length,k=()=>S.map(o=>e.jsxDEV("button",{onClick:()=>s(o.value),className:`py-2 px-4 rounded-lg text-sm ${b===o.value?"bg-blue-500 text-white":"bg-slate-100 text-gray-700 border-slate-200 border-2"}`,children:o.name},o.value,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/pages/Orders.jsx",lineNumber:67,columnNumber:62},globalThis));console.log("first",v,u("completed"));const U=()=>e.jsxDEV("div",{className:"widgets-grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:col-span-4",children:[e.jsxDEV(h,{title:"Hoàn thành",count:u("completed"),icon:e.jsxDEV("i",{className:"icon-check-to-slot-solid"},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/pages/Orders.jsx",lineNumber:73,columnNumber:88},globalThis)},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/pages/Orders.jsx",lineNumber:73,columnNumber:7},globalThis),e.jsxDEV(h,{title:"Chờ xác nhận",count:u("pending"),color:"badge-status-bg",icon:e.jsxDEV("i",{className:"icon-rotate-left-solid"},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/pages/Orders.jsx",lineNumber:74,columnNumber:112},globalThis)},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/pages/Orders.jsx",lineNumber:74,columnNumber:7},globalThis),e.jsxDEV(h,{title:"Đã xác nhận",count:u("confirmed"),color:"green",icon:e.jsxDEV("i",{className:"icon-list-check-solid"},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/pages/Orders.jsx",lineNumber:75,columnNumber:103},globalThis)},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/pages/Orders.jsx",lineNumber:75,columnNumber:7},globalThis),e.jsxDEV(h,{title:"Đã hủy",count:u("canceled"),color:"red",icon:e.jsxDEV("i",{className:"icon-ban-solid"},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/pages/Orders.jsx",lineNumber:76,columnNumber:95},globalThis)},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/pages/Orders.jsx",lineNumber:76,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/pages/Orders.jsx",lineNumber:72,columnNumber:38},globalThis);return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(I,{title:"Đơn Hàng"},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/pages/Orders.jsx",lineNumber:79,columnNumber:7},globalThis),e.jsxDEV("div",{className:"flex flex-col flex-1 gap-5 md:gap-[26px]",children:[e.jsxDEV("div",{className:"w-full widgets-grid grid-cols-1 ",children:U()},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/pages/Orders.jsx",lineNumber:81,columnNumber:9},globalThis),e.jsxDEV("div",{className:"flex gap-4",children:k()},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/pages/Orders.jsx",lineNumber:85,columnNumber:9},globalThis),E?e.jsxDEV(_,{},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/pages/Orders.jsx",lineNumber:86,columnNumber:20},globalThis):d?e.jsxDEV("p",{className:"text-rose-500",children:d},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/pages/Orders.jsx",lineNumber:86,columnNumber:41},globalThis):e.jsxDEV(B,{initialOrders:D,category:l,sort:c,onOrderUpdate:P},void 0,!1,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/pages/Orders.jsx",lineNumber:86,columnNumber:84},globalThis)]},void 0,!0,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/pages/Orders.jsx",lineNumber:80,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/manh/WorkSpoce/Private/Ecommerce-Web/src/pages/Orders.jsx",lineNumber:78,columnNumber:10},globalThis)};export{re as default};
