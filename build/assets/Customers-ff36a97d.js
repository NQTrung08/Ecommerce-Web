import{j as e}from"./mui-a50be5b6.js";import{T as p,r as n,a3 as x,a4 as b}from"./antd-4509dcf0.js";import{i as f,_ as y,L as k}from"./index-cacf817c.js";import{a as w,U as j}from"./config-e16ab0ea.js";import{P as S}from"./PageHeader-2b351038.js";import"./DocumentTitle-0f80adc2.js";const N=async()=>{try{const r=f("application/json");return(await w.get(`${j}user`,r)).data}catch(r){throw console.error("Failed to fetch customer",r),r}},T=y(p).withConfig({displayName:"styles__StyledTable",componentId:"sc-gvbfgj-0"})(["margin-bottom:30px;flex-grow:1;.ant-table{padding:0 26px;}.ant-table-thead .ant-table-cell{padding:33px 0 28px !important;background:var(--widget);&:last-child{text-align:right;}}.ant-table-row:last-child .ant-table-cell{border-bottom:0;}.ant-table-row .ant-table-cell{padding:32px 0;}.ant-table-cell{border-color:var(--input-border) !important;}@media (min-width:1536px){.product-cell{width:23%;}}"]),A=()=>{const[r,i]=n.useState([]),[c,d]=n.useState(!0),[l,g]=n.useState(null),[o,v]=n.useState({currentPage:1,pageSize:10});n.useEffect(()=>{(async()=>{try{const t=await N();i(t)}catch(t){console.error("Lỗi khi tải dữ liệu khách hàng:",t),g("Không thể tải danh sách khách hàng. Vui lòng thử lại.")}finally{d(!1)}})()},[]);const h=a=>{let t="",s="";switch(a){case"active":t="Hoạt động",s="text-green-darker";break;case"pending":t="Chờ xử lý",s="text-amber-400";break;case"block":t="Bị khóa",s="text-rose-500";break;default:t="Không xác định",s="text-gray-500"}return e.jsx("span",{className:s,children:t})},m=[{title:"Ảnh đại diện",dataIndex:"avatar",key:"avatar",render:a=>e.jsx("img",{src:a,alt:"Avatar",className:"rounded-full w-20 h-20 object-cover"})},{title:"Tên người dùng",dataIndex:"userName",key:"userName"},{title:"Email",dataIndex:"email",key:"email"},{title:"Số điện thoại",dataIndex:"phoneNumber",key:"phoneNumber"},{title:"Trạng thái",dataIndex:"status",key:"status",render:a=>h(a)}],u=r.slice((o.currentPage-1)*o.pageSize,o.currentPage*o.pageSize);return e.jsxs("div",{className:"w-full",children:[e.jsx(S,{title:"Người dùng"}),e.jsx("div",{className:" bg-white rounded-lg w-full min-h-80 flex items-center justify-center",children:c?e.jsx(k,{}):l?e.jsx(x,{message:l,type:"error",showIcon:!0}):e.jsx(T,{columns:m,dataSource:u,rowKey:a=>a._id,locale:{emptyText:e.jsx(b,{text:"Không tìm thấy khách hàng nào"})},pagination:!1})})]})};export{A as default};
